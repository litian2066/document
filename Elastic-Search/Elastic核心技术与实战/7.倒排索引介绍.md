# 倒排索引介绍

## 目录-正排

> 通过给一本书安排目录，可以快速的了解书的内容、内容分布、每个章节页码分布数，这样查询内容效率比较高

![image-20220510102211759](/Users/litian/Documents/lian2077/documents/documents/Elastic-Search/Elastic核心技术与实战/images/image-20220510102211759.png)

## 索引页 - 倒排

> 有些书会在末尾提供索引页，比如说你要找某个单词所在的页码，可以通过在此页定位到关键字在页码的位置

![image-20220510102357153](/Users/litian/Documents/lian2077/documents/documents/Elastic-Search/Elastic核心技术与实战/images/image-20220510102357153.png)

## 图书和搜索引擎的类比

![image-20220510102520897](/Users/litian/Documents/lian2077/documents/documents/Elastic-Search/Elastic核心技术与实战/images/image-20220510102520897.png)

## 正排索引与倒排索引

> 如下图，将文档中的关键字，统计出现的次数、所在文档的id与位置（从0统计）

![image-20220510102601906](/Users/litian/Documents/lian2077/documents/documents/Elastic-Search/Elastic核心技术与实战/images/image-20220510102601906.png)

## 倒排索引的核心组成

![image-20220510102826866](/Users/litian/Documents/lian2077/documents/documents/Elastic-Search/Elastic核心技术与实战/images/image-20220510102826866.png)

## 一个例子 - ElasticSearch

![image-20220510103011378](/Users/litian/Documents/lian2077/documents/documents/Elastic-Search/Elastic核心技术与实战/images/image-20220510103011378.png)

## ElasticSearch的倒排索引

![image-20220510103105264](/Users/litian/Documents/lian2077/documents/documents/Elastic-Search/Elastic核心技术与实战/images/image-20220510103105264.png)