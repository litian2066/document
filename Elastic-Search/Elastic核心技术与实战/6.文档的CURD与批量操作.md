# 文档的CURD与批量操作

## Create 一个文档

![image-20220510094942055](/Users/litian/Documents/lian2077/documents/documents/Elastic-Search/Elastic核心技术与实战/images/image-20220510094942055.png)

## Get 一个文档

![image-20220510095141514](/Users/litian/Documents/lian2077/documents/documents/Elastic-Search/Elastic核心技术与实战/images/image-20220510095141514.png)

## Index 一个文档

![image-20220510095313692](/Users/litian/Documents/lian2077/documents/documents/Elastic-Search/Elastic核心技术与实战/images/image-20220510095313692.png)

## Update 文档

> update会新增没有的字段与数据

![image-20220510095429903](/Users/litian/Documents/lian2077/documents/documents/Elastic-Search/Elastic核心技术与实战/images/image-20220510095429903.png)

##  Bulk API

![image-20220510100100862](/Users/litian/Documents/lian2077/documents/documents/Elastic-Search/Elastic核心技术与实战/images/image-20220510100100862.png)

```
POST _bulk
{"index": {"_index": "test", "_id": "1"}}
{"field": "value1"}
{"delete": {"_index":"test", "_id": "2"}}
{"create": { "_index": "test2", "_id": "3"}}
{"field1": "value3"}
{"udpate": {"_id": "1", "_index": "test"}}
{"doc": {"field2": "value2"}}
```

## 批量读取 - mget

![image-20220510100410692](/Users/litian/Documents/lian2077/documents/documents/Elastic-Search/Elastic核心技术与实战/images/image-20220510100410692.png)

```
GET _mget
{
  "docs": [
    {
      "_index": "test",
      "_id": 1
    },
    {
      "_index": "test",
      "_id": 2
    }
  ]
}
```

## 批量查询 - msearch

![image-20220510100528474](/Users/litian/Documents/lian2077/documents/documents/Elastic-Search/Elastic核心技术与实战/images/image-20220510100528474.png)

## 常见错误返回

![image-20220510100850808](/Users/litian/Documents/lian2077/documents/documents/Elastic-Search/Elastic核心技术与实战/images/image-20220510100850808.png)