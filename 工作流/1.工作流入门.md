## 工作流介绍

### 工作流介绍

#### 审批业务场景

![image-20200723171748368](/Users/litian/Library/Application Support/typora-user-images/image-20200723171748368.png)

#### 审批流程模型化

![image-20200723171835397](/Users/litian/Library/Application Support/typora-user-images/image-20200723171835397.png)

发掘关键要素：

![image-20200723172116059](/Users/litian/Library/Application Support/typora-user-images/image-20200723172116059.png)

#### 常见网上购物流程

![image-20200723172336733](/Users/litian/Library/Application Support/typora-user-images/image-20200723172336733.png)

#### 购物流程模型化

![image-20200723172633113](/Users/litian/Library/Application Support/typora-user-images/image-20200723172633113.png)

![image-20200723173024055](/Users/litian/Library/Application Support/typora-user-images/image-20200723173024055.png)

**ServiceTask** 不需要人工参与 需要系统自动完成的操作

### 工作流是什么？

+ **工作流（Workflow）**是对工作流程及其各步骤之间业务规则的抽象、概括描述
+ **工作流建模**即将工作流程中的工作如何前后组织在一起的逻辑和规则，在计算机中以恰当的**模型**表达并对其实施计算
+ **要解决的问题**是为实现某个业务目标，利用计算机在多个参与者之间按某种预定规则自动传递文档、信息或者任务。

### 工作流相关....

+ **工作流管理系统WfMS**
  + 是处理工作流的电脑软件系统
  + 主要功能是通过计算机技术的支持去定义、执行和管理工作流，协调工作流执行过程中工作之间以及群体成员之间的信息交互。
  + 工作流需要依靠工作流管理系统来实现

+ **计算机支持的协同工作CSCW**
  + 是普遍地研究一个群体如何在计算机的帮助下实现协同工作的
  + 工作流属于计算机支持的协同工作（CSCW）的一部分
+ **工作流管理联盟**

### 为什么需要工作流？

+ 老司机的烦恼
  + 产品需求遗漏，开发上线后需求经常改
  + 业务代码如此复杂，老大说DDL就在本周五
  + 时间流逝，文档缺失，PM同学让RD刨代码梳理流程

### 工作流对团队的作用

+ 提高效率，减少等待
+ 规范行为，落实制度
+ 协同内外，快速响应
+ 监控全面，提升执行

## Activiti6.0快速体验

### 准备环境并部署Activiti6.0

#### 准备物料

+ Activiti软件包 activiti-6.0.0.zip
+ Java1.8
+ tomcat8.zip

将war包(`activiti-admin.war`以及`activiti-app.war`)放入tomcat的webapp目录下，命令启动tomcat`./bin/startup.sh`，可以通过`jps -mlv`查看tomcat的启动信息

访问http://localhost:8080/activiti-app/#/login可以看到activit的登录页面

![image-20200723204849286](/Users/litian/Library/Application Support/typora-user-images/image-20200723204849286.png)

用户名是admin 密码是test

#### 设计二级审批流程

1、创建用户

登录成功进入下图地方创建用户，二级审批流程涉及到3个用户，需要创建3个

![image-20200723205230946](/Users/litian/Library/Application Support/typora-user-images/image-20200723205230946.png)

![image-20200723205356623](/Users/litian/Library/Application Support/typora-user-images/image-20200723205356623.png)

![image-20200723205458987](/Users/litian/Library/Application Support/typora-user-images/image-20200723205458987.png)

![image-20200723205548454](/Users/litian/Library/Application Support/typora-user-images/image-20200723205548454.png)

2、创建好后回到主界面，点击第一个图片，创建一个流程；

![image-20200723205731870](/Users/litian/Library/Application Support/typora-user-images/image-20200723205731870.png)

![image-20200723210011322](/Users/litian/Library/Application Support/typora-user-images/image-20200723210011322.png)

流程图如上，指定每个节点的操作人

![image-20200723210048715](/Users/litian/Library/Application Support/typora-user-images/image-20200723210048715.png)

保存后关闭

3、发布流程

![image-20200723210312492](/Users/litian/Library/Application Support/typora-user-images/image-20200723210312492.png)

![image-20200723210337400](/Users/litian/Library/Application Support/typora-user-images/image-20200723210337400.png)

![image-20200723210348227](/Users/litian/Library/Application Support/typora-user-images/image-20200723210348227.png)

保存后点击**发布按钮**就可以发布了。

发布了后可以去admin平台可以看到发布的整个流程包括Tasks Deployments信息，用户名是admin和admin，登陆进去需要改一下端口号。

![image-20200723210918899](/Users/litian/Library/Application Support/typora-user-images/image-20200723210918899.png)

![image-20200723214931895](/Users/litian/Library/Application Support/typora-user-images/image-20200723214931895.png)